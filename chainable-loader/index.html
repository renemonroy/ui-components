<!DOCTYPE html>
	<html>
	
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Loading Breezi...</title>
		
		<style>

			#chainable-loader {
				margin : 0 auto;
				width : 250px;
				display : none;
			}
			#chainable-loader span {
				display :  block;
				float : left;
				width : 35px;
				text-align : right;
			}
			#chainable-loader p {
				margin-left : 40px;
			}

		</style>

		<script>

      document.onreadystatechange = function () {
        if ( document.readyState === "complete" ) {

					(function(global, docum) {

						var loader = function loader(config) {

							this.element = docum.getElementById('chainable-loader');
							this.image = new Image();
							this.rotation = 0;
							this.status = localStorage.getItem('loaderStatus') || 'paused';
							this.interval = null;

							if ( !this.image.src ) {
								this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABK1JREFUeNqMVt1ZGzkUvVfS4IW1l8GO82w6IBXE7mCpAFMB+Pt4Z6iApALcAe4AU0HoAJfg7BPYHinnXmmciX+y0YdmJHnQ0bk/R5cvh5cUyFPwRD4EChgEvGWMB36R3+JaiTkmD5gOs8yNb25uLlerFf1pM2yIGA82TEY7xow1oj4GBU6S6yywPNG4JwDH+XGv0Whs7ndN8n97mmPsLCSYgy7ImPQE/pFDyAF+7L0fgTNFUDBcLal90taD1doQ/T6NT9DnW8zkT+jJuQVYukG3hifCVk/L3JOxMBa8VVlSp9MhHKLaB+zpNo1fdgEpmByuMqUAV5viOQLwXNax9KBAFNEEpN1pUwnQmvl6aTza6zNjrCKaymeyOdYAMgfg18iG4T/qw+AC94zvpzDjcwqOXo3VGH26H0xMZ7jPxgT0R2zUi4BYt6bAfEbJvJFZKA4ODgZ5nhcJLE9mk35X21vWC/TXKmiwr2xszoQd/PQv3t/QCzY2twpqBpb5FKOp+hCgzWaTWq0W1Xx0ij5An9WC5VtiLMwvNBrVaSGMvQk5jHQVPN7sb0HzAtE+QJrNgrcUNEARieWCut0ugR0tl8sKcJ5Ahc3jRviPK8ZGTaaBwGKyT+gTiwM4a3Jrba6MbeVXo5F4kp9shn29ndUYC9vLirGDXzRhrYhD8DME5Hkg22df5rDYS/RXmVIsaP/Q/SXs600YnifTjbeSWliEdTYb3QyTqYfdDKTL4B1KS6tVqf6SgGq3P9BvZGpvNIrPCgVKZlGlCDQDxJiCjVppCab05DJHzb+b1Gm36X80cVjLuzozexs0f6IgRkA5XRhzIixRL1+IzhwdHVHrn1Y9oXe1i10aKT6bGGhg1CKK+cT0zCGCs0oXTIogybJMw/779//o48duMvnO9rzLn+Kz8wgS5Shqo4njpCoOQA5Ajb8adHh4SMvVghaLhYb/HsBip88krNVISSEigOlhjmi0LziNhr6wOsgO9C1339vbGznnNAU2AM9Svk235cqKieKGkldAf7DGvTrjnjJnzyQoMu0ZTuZgUqvmlYR+f39XIE4uqCX1E/rDZpCYmKwOOmivAfYK9KF1AM7EdG4uAMLAOjmQideQXOJQkyUisqYiFRhtSFbxCxj8do0T30dmTvLhC+an0MZZVBHX09tBTG4qFigZEJEChjTIEwtRik81Qa7uOQU0IrYAe7FRjqYw6SlYjgAyN1GmHsFIGPfVnxzFuFITKEkfYK+oWZ5qKlIkcZ7UE92oXBmeIgIxtAO5UtSHqo9uiLW+sme5ejSIRASeAFR4LYy8MMzL1aq3EYWzJF28BgMEzGYpBkrMKelgl+P6uTcVY8NjLYyYPwMTCcufSaouH6al9xNJcjC82vDb9uVZKbrWIumNO+waVsu1TCC+Wxcg6xaSpsZSYM2wLO9/U8qZWH+wztQnsfAxV/E3MIKZVf1FsmJVV8mamhEmxZ0X7sSsABsGv1tZJGejmptU7FBUDYzPAXQBwFEEl+9+stFEroJEci2ELwIMmZuWoSTE9DYYcWVCjlJrZWMpeBhlAEqBiulPE84S3ixU5gSTwGGOdyEVNJXxA8nPevshwABHktBS1YoQ+QAAAABJRU5ErkJggg==' || config.src;
							}

							return this;
						};

						loader.prototype.start = function start() {
							var rotation = 0,
								image = this.image;

							// Need to save status, rotation and percent...
							localStorage.setItem('loaderStatus', 'playing');

							// Need to stop interval when the loader is paused...
							this.interval = setInterval( function() {
								var context = docum.getElementById('loader-canvas').getContext('2d');
		            context.globalCompositeOperation = 'destination-over';
		            context.save();
		            context.clearRect(0,0,27,27);
		            context.translate(13.5,13.5);
		            rotation +=1;
		            context.rotate(rotation*Math.PI/64);
		            loader.rotation = rotation;
		            context.translate(-13.5,-13.5);
		            context.drawImage(image,0,0);
		            context.restore();
							}, 10);

							this.element.style.display = 'block';

							return this;
						};

						loader.prototype.pause = function pause() {
							var loaderInfo = {
								text : ''
							};
							clearInterval(this.interval);
							localStorage.setItem('loaderStatus', 'paused');
							console.log('Loader paused!');
							return this;
						};

						loader.prototype.destroy = function destroy() {
							localStorage.setItem('loaderStatus', 'paused');
							console.log('Loader paused!');
						}

						global.ChainableLoader = loader;

					})(window, document);

					var loader = new ChainableLoader();
					loader.start();

				}
			}

		</script>

	</head>

	<body>
		
		<div id="chainable-loader">
			<canvas width="27" height="27" id="loader-canvas"></canvas>
			<div class="feedback">
				<span>25%</span><p>Starting Nitrogen server...</p>
			</div>
		</div>

	</body>

</html>